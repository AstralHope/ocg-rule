========
攻守计算
========

写在前面
========

-  新大师规则原文见\ `此 <https://warsier.gitbooks.io/new_master_rule/content/4/4336.html>`__

-  如果想要更清楚的描述，请\ **自行把下文中的「攻击力·守备力」用「当前攻击力·守备力」替换**\ 以更清楚的与「原本攻击力·守备力」区分开。

-  为了避免变化、改变等词与\ **变成**\ 相近而混淆效果文字区分度，本文没有使用这些词语进行介绍。总的来说，攻守计算的关键词是\ **上升·下降**\ 与\ **变成·交换**\ 以及\ **原本**\ 。

-  **第一次浏览时请务必按照文章的介绍顺序自上而下阅读**\ 。因为越到下面的例子越具有综合性，必须结合前面的内容才能得出结果。

-  本文主体基本没有提及「巨大化」「邪神」等不常见的卡·效果，正常的攻守计算已经十分复杂，这些意义不大的例子还是不要去管了。

-  | 无论怪兽的「攻击力·守备力」如何被效果影响，基本上，其「原本攻击力·守备力」是怪兽卡片上怪兽情报记载的数值。但是，若卡片效果描述影响的是「原本攻击力·守备力」，处理后的数值是该怪兽的「原本攻击力·守备力」。
   | 例：看清效果文字
   | 「巨大化」攻击力变成原本攻击力的2倍
   | 是根据怪兽「原本攻击力」来影响其「攻击力」。结果处理后的数值是该怪兽的「攻击力」。
   | 「迷途风」原本攻击力变成一半
   | 或许表述成 *原本攻击力变成原本攻击力的一半* 会清楚一点。
   | 「暗叛逆XYZ龙」攻击力变成一半
   | 或许表述成 *攻击力变成当前攻击力的一半* 会清楚一点。

-  影响「原本攻击力·守备力」的效果只能影响场上表侧表示的怪兽，在场上以外或场上里侧表示的怪兽其原本攻击力·守备力是该卡上记载的数值。

怪兽情报记载为「?」的怪兽
=========================

-  | 这类怪兽\ **在场上时，其「原本攻击力·守备力」视为0**\ 。由于基本上这类怪兽的效果会影响自身攻守，也就是说其「攻击力·守备力」并不一定是0。
   | 例：自己手卡有5张，自己场上的「特拉戈迪亚」的「攻击力·守备力」是3000/3000。但其「原本攻击力·守备力」是0，适用「收缩」等根据「原本攻击力·守备力」计算的效果时用0去进行效果处理。
   | 适用「收缩」的结果是0/2+3000=3000，至于原因请继续阅读

-  | 这类怪兽的\ **在场外时，其「原本攻击力·守备力」是「?」**\ ，涉及特定攻击力·守备力的怪兽的效果不会涉及这类怪兽。
   | 例：「三眼怪」的『从卡组把1只攻击力1500以下的怪兽加入手卡』效果不能选卡组中攻击力为「?」的「特拉戈迪亚」。

影响「攻击力·守备力」的效果无效的场合
=====================================

-  | 怪兽自身的效果，\ **只能影响自身**\ 的「攻击力·守备力」的场合，在被无效后，那个效果不再适用。
   | 例：「魔海城 埃该翁」的效果除外了「幻影骑士团
     断碎剑」，攻击力是2000，因「魁炎星王-宋虎」的效果无效后，攻击力结果是0。无效效果结束适用后，「魔海城
     埃该翁」的效果再度发动前，仍然是0。当然，「魔海城
     埃该翁」的效果再度发动后，攻击力就可能不是0了。

-  | 怪兽自身的效果，\ **不止能影响自身，还能影响其他卡，即使处理时只影响自身**\ 的「攻击力·守备力」的场合，在被无效后，那个效果仍然适用。
   | 例：「猫鲨」的效果把自身攻击力·守备力变成1000/1000，因「魁炎星王-宋虎」的效果无效后，还是这样不会改变。

把「攻击力·守备力」\ **上升/下降**\ 某个数值的效果
==================================================

-  不论是永续，还是通过效果的发动来上升/下降，都是简单的直接在怪兽的当前「攻击力·守备力」的数值基础上计算的效果。

-  | 复数适用的场合，这些效果累积计算。并且，低于0的场合，尽管结果按0处理，但\ **累积计算时负数会参与计算**\ 。
   | 例：对攻击力为100的怪兽发动「禁忌的圣枪」后，其攻击力是0。再对其发动「妖形杵」的②效果让攻击力上升1000的场合，结果是100-800+1000=300。

通过效果的发动，把「攻击力·守备力」『变成~』『交换』的效果
==========================================================

   这类效果是把数值固定的效果，基本上在其适用后，\ **之前的所有适用中的效果都不再对那只怪兽适用**\ 。

-  | 之前的所有适用中的\ **上升/下降**\ 的效果不再适用。
   | 例：
   | 自己手卡有2张，自己场上的「奥西里斯的天空龙」的攻守是2000/2000。适用「黑羽-
     疾风之盖尔」等「攻击力·守备力变成一半」的效果时固定在1000/1000。此后手牌数量增减的场合不再影响攻守。\ `14/3/21 <http://www.db.yugioh-card.com/yugiohdb/faq_search.action?ope=5&fid=11911&keyword=&tag=-1>`__
   | 自己用攻击力为2000/1500的「闪光No.39 希望皇
     霍普·电光皇」攻击对方的「隐藏的机壳杀手
     物质主义」。伤害计算时发动「闪光No.39 希望皇
     霍普·电光皇」的效果变成5000/1500后，「隐藏的机壳杀手
     物质主义」使攻击力下降的效果不会再度对其适用。当然，其他特殊召唤的怪兽攻击力·守备力仍都下降500。结果是5000/1500进行伤害计算。
   | 自己场上持有「十二兽 蛇笞」「十二兽 马剑」作为X素材的「十二兽
     龙枪」，即2800/400，被对方的「伯吉斯异兽·怪诞虫」的效果变成一半，即1400/200后，「十二兽
     龙枪」自身效果不再适用。可以简单的视为\ **暂时不存在这个效果了**\ 。若此时失去「十二兽
     蛇笞」或这张卡被无效的场合，也仍为1400/200。回合结束后，「伯吉斯异兽·怪诞虫」的效果结束适用，「十二兽
     龙枪」的效果恢复适用，此时是1600/0或0/0。
   | **注**\ 「水晶翼同调龙」被「真龙的默示录」变成1500/1250。再与「青眼白龙」战斗的伤害计算时，「水晶翼同调龙」的②效果发动，即使「真龙的默示录」的效果适用之前也发动过②效果，这次发动的②效果也不是之前适用的攻击力·守备力的效果，与这条规则无关，结果攻击力自然是4500。
   | 也就是说每次发动的效果互相是没有联系的。这里只是把\ **之前已经适用的效果抹去**\ ，当然\ **管不到之后再发动的效果**\ 。而永续效果不存在发动，就这样被抹去了。

-  | 之前存在的这类效果也不再适用。
   | 例：
   | 用「英豪挑战者 赠剑兵」作为X素材之一X召唤「闪光No.39 希望皇
     霍普·电光皇」，则攻击力是3500。「闪光No.39 希望皇
     霍普·电光皇」进行战斗的伤害计算时发动效果变成5000后，「英豪挑战者
     赠剑兵」的效果不再适用。因此伤害计算后攻击力回到2500，不是3500。
   | 「青眼白龙」直接攻击造成3000伤害，发动「芙莉嘉的苹果」特召「邪精衍生物」并使其攻守均为3000/3000。再对这个「邪精衍生物」发动「半封」使攻击力直到回合结束时变成一半即1500/3000的场合，「芙莉嘉的苹果」影响「邪精衍生物」的攻击力部分的效果不再适用，回合结束时「半封」的效果不再适用，「邪精衍生物」的攻守是0/3000。\ `17/2/16 <http://www.db.yugioh-card.com/yugiohdb/faq_search.action?ope=5&fid=6415&keyword=&tag=-1>`__

-  | 之前还未实质影响攻击力·守备力的效果满足条件仍能适用。
   | 例：
   | 自己场上存在「真帝王领域」，自己场上上级召唤的「天帝
     埃忒耳」被对方的「暗叛逆XYZ龙」把攻击力变成一半，即1400。此时「真帝王领域」虽然在场上存在，但效果还未对「天帝
     埃忒耳」适用，因此不会被「暗叛逆XYZ龙」抹消。之后「天帝
     埃忒耳」向对方怪兽攻击的伤害计算时，「真帝王领域」的效果正常适用，上升800，即2200。18/10/08
   | 「光道圣骑士
     简」被对方的「黑羽-疾风之盖尔」把攻守变成一半，之后「光道圣骑士
     简」攻击的伤害步骤内，效果正常适用，攻击力上升300。18/10/08
   | 「我我我枪手」攻击表示的效果适用后，被对方的「真龙的默示录」把攻守变成一半，之后「我我我枪手」攻击对方怪兽的伤害步骤内，其效果正常适用上升1000，对方怪兽下降500。18/10/08
   | 「Em
     帽子戏法师」不足3个指示物时被「收缩」把攻击力变成550，然后指示物达到3个时会适用③效果，攻击力·守备力变成3300。18/10/08

接下来看一个综合性的例子：

   Q.以场上持有「十二兽 蛇笞」「十二兽 马剑」作为X素材的「十二兽
   龙枪」(2800/400)为对象发动「No.102 光天使
   辉环」的『攻击力变成一半，那个效果无效』效果后，其攻击力·守备力是多少呢？
   A.1400/0。先攻击力变成一半即1400/400，之前适用中的「十二兽
   龙枪」影响自身攻击力的效果不再适用，再效果无效，守备力因无效而变成0，1400/0。

-  Q.攻击力减半和效果无效不是同时处理的吗？
   A.同时处理指\ **在同一个时点**\ 进行处理，结果只与是否错过时点有关系。但同一个时点进行处理的行动仍然有顺序，比如伤害计算时这一个时点就有\ **攻守变化→伤害计算→给予战斗伤害→战斗破坏确定**\ 这些行动。而行动顺序如何判断？按效果文字本身顺序去排列。因此，先攻击力减半，再效果无效。
   其他有关错过时点与同时处理的介绍见\ `诱发类效果 <http://www.jianshu.com/p/a567dd31e21a>`__\ 中的相关部分

通过效果的发动，把「原本攻击力·守备力」『变成~』『交换』的效果
==============================================================

-  | 这类效果是直接在怪兽卡片情报记载的数值上进行计算的效果，在这类效果处理后，还要另外把之前适用的使「攻击力·守备力」\ **上升/下降**\ 的效果\ **再度适用**\ 进行计算。
   | 例：
   | 自己手卡有3张，自己场上的「奥西里斯的天空龙」的攻守是3000/3000。但其原本攻击力·守备力是0，适用「收缩」等根据「原本攻击力·守备力」计算的效果时用0进行效果处理，之后还要计算其自身使攻守上升的效果，攻击力结果是0/2+3000=3000。此后手牌数量增减的场合仍会影响攻守。\ `14/3/21 <http://www.db.yugioh-card.com/yugiohdb/faq_search.action?ope=5&fid=11906&keyword=&tag=-1>`__
   | 自己手卡有5张，自己场上的「特拉戈迪亚」的「攻击力·守备力」是3000/3000。但其「原本攻击力·守备力」是0，适用「收缩」等根据「原本攻击力·守备力」计算的效果时用0进行效果处理，之后还要计算其自身使攻守上升的效果，攻击力结果是0/2+3000=3000。也就是说收缩毫无意义。此后手牌数量增减的场合仍会影响攻守。
   | 自己场上持有「十二兽 蛇笞」「十二兽 马剑」作为X素材的「十二兽
     龙枪」，同时「炎舞-「天玑」」适用中，即2900/400，被对方的「暗叛逆XYZ龙」的效果把攻击力变成一半，即1450/400。「暗叛逆XYZ龙」的攻击力上升1450是3950，这时对「暗叛逆XYZ龙」发动「迷途风」的场合，是直接在2500上计算，2500/2=1250，之后计算上升的效果，1250+1450=2700。即2700/2000。
   | **注**
     「暗叛逆XYZ龙」的效果不止影响自身，因此，效果无效后不会恢复2500。
   | 换句话说，这类效果没有固定的能力。
   | 例：6000的「白骨王」被「收缩」后，攻击力是3000，效果再被无效的场合是0。

-  | 但是，之前适用的使「攻击力·守备力」\ **变成~**\ 、\ **交换**\ 的效果(无论是否通过效果的发动）\ **不会再度计算**\ 。
   | 例：
   | 「黑羽-疾风之盖尔」的效果对怪兽适用后，再对那个怪兽发动「收缩」的场合，那个怪兽的攻击力是原本攻击力减半的数值。「收缩」不适用后，回到卡片记载的原本攻击力数值，守备力不恢复。
     具体的例子，这个怪兽若是「青眼白龙」，攻守变化过程是3000/2500→1500/1250→1500/1250→3000/1250。\ `14/3/21 <http://www.db.yugioh-card.com/yugiohdb/faq_search.action?ope=5&fid=7944&keyword=&tag=-1>`__
   | 自己场上持有「十二兽 蛇笞」「十二兽 马剑」作为X素材的「十二兽
     龙枪」，同时「炎舞-「天玑」」适用中，即2900/400，被对方的「暗叛逆XYZ龙」的效果把攻击力变成一半，即1450/400后，对这个「十二兽
     龙枪」发动「迷途风」的场合，先效果无效，此时是1450/0，再因原本攻击力变成一半，0/2=0。不会再度计算「暗叛逆XYZ龙」的效果，结果是0/0。
   | **注** 「暗叛逆XYZ龙」把「十二兽
     龙枪」的攻击力变成一半，则之前适用中的「十二兽
     龙枪」「炎舞-「天玑」」影响自身攻击力的效果不再适用，不是因效果无效而让攻击力是0。也不会因原本攻击力变化后还要计算上升/下降的效果而再上升100。「炎舞-「天玑」」的影响已经被「暗叛逆XYZ龙」抹消了。
   | 换句话说，若守备力也被变成一半等效果固定住，则结果守备力不会是0。例如「暗叛逆XYZ龙」换成「黑羽-
     疾风之盖尔」的场合，是1450/200→0/200。

其他
====

-  像「野性解放」这些，当怪兽因为卡的效果免于破坏时，虽然卡片效果文字没有写，但之后会回到原本数值。

-  | 以用自身效果不用解放作召唤的「机壳别名
     愚钝」为对象发动「迷途风」的场合，结果攻击力是1400。
   | 流程：
   | 先效果无效，1800的「机壳别名
     愚钝」恢复到2800。再原本攻击力变成一半，即1400。

..

   禁忌的圣典 速攻魔法
   双方怪兽进行战斗的伤害计算时才能发动。直到伤害步骤结束时，这张卡以外的场上的卡的效果无效化，那次战斗的伤害计算用原本的攻击力·守备力进行。

| 相关解说可查阅
  `战斗阶段流程 <http://www.jianshu.com/p/8824670c157f>`__\ 的伤害计算时部分的介绍。
| 总之，这张卡严格按照效果描述处理，并不会改变怪兽的攻击力·守备力。
| 下面的一个K社官方规则大师测试题做出正确判断的条件之一就是清楚此卡到底如何处理。

-  自己黑羽-疾风之盖尔的效果把对方电子龙（2100/1600）的攻击力和守备力减半，然后我方的反转世界的效果适用，然后我方以怪兽攻击该电子龙，伤害步骤开始时对方对该电子龙发动收缩，伤害计算时对方发动禁忌的圣典。到了回合结束，对于电子龙本回合的攻击力·守备力变动过程，以下说法正确的是？
   A.2100/1600->1050/800->800/1050->400/1050->2100/1600->800/1050
   B.2100/1600->1050/800->800/1050->1050/800->2100/1600->2100/1600
   C.2100/1600->1050/800->800/1050->1050/1050->1050/1050->2100/1600
   D.2100/1600->1050/800->800/1050->1050/1050->1050/1050->2100/1050
   E.2100/1600->1050/800->800/1050->1050/1050->2100/1600->2100/1050

答案是D。官方解说见\ `此 <http://www.yugioh-card.com/japan/notice/information/?9>`__

| 流程：
| 「黑羽-疾风之盖尔」让2100/1600→1050/800应当是没有疑问的。
| 「反转世界」也不影响怪兽的原本攻击力·守备力，即800/1050。此时之前「黑羽-疾风之盖尔」的效果不再适用。
| 「收缩」根据原本攻击力影响怪兽的原本攻击力，即2100/2=1050，由于不会再度计算之前存在的\ **变成/交换**\ 效果，所以此时就是1050/1050。并且，之前「反转世界」影响攻击力的这部分效果不再适用，守备力仍由「反转世界」维持。
| 「禁忌的圣典」适用后，本身没有影响怪兽的攻击力·守备力，也没有影响怪兽的原本攻击力·守备力，因此仍然是1050/1050。
| 回合结束时「收缩」的效果结束适用，即攻击力回到2100，而守备力部分因「反转世界」的效果没有时限，保持1050。

.. _在最后适用影响攻守的效果:

不怎么重要的部分
----------------

| 这部分只不过是为文章完整性而存在的，在下\ **强烈建议不要阅读下文**\ 。
| 除非你看规则的目的不是为了对战而是纯粹感兴趣于规则有何混乱之处。

**不入连锁的把「攻击力·守备力」『变成~』『交换』的效果**

   | 以下是部分已知会反复再度计算的卡，碰到这些卡时基本上不适用下文规则。
     「银幕之镜壁」
   | 「地球巨人 盖亚板块」
   | 「清净恶龙」
   | 「超级漏洞人」
   | 「子机」
   | 「蛇神 格」
   | 「邪神 神之化身」
   | 「邪神 恐惧之源」

-  「邪神
   恐惧之源」或「银幕之镜壁」等使怪兽的攻击力·守备力永续减半的效果适用中，对已经是1500的「青眼白龙」发动「疾风之盖尔」等变成·交换效果，结果是1500/2/2=375。
   而对1500的「青眼白龙」发动突进，或者「魔导战士
   破坏者」自身效果等，上升·下降攻击力，是在之前基础上上升下降，再/2。也就是3000+700=3700/2=1850，或1600+300=1900/2=950。

| 那么，这些卡同时在场时按什么顺序处理，谁在最后结算？
| 目前已知的优先顺序是
| 「银幕之镜壁」<「清净恶龙」<「地球巨人
  盖亚板块」<「超级漏洞人」<「邪神 神之化身」&「邪神 恐惧之源」&「子机」
| 更多详细顺序请自行提问FAQ，问这些细节意义甚微。

好的，上面这些卡全都抛在一边，那么这类效果的例子现在有「红莲魔兽」、「命运女郎」怪兽、「巨大化」等卡。

   | 「攻击力•守备力永续上升•下降的效果」适用中，「攻击力•守备力永续变成指定数值的效果」适用的场合，该效果适用后还会再度计算「攻击力•守备力永续上升•下降的效果」所产生的数值变化。
     例：
   | 因「废铁工厂」的效果攻击力上升变成2300的「废铁破坏者」装备「巨大化」的场合，首先因「巨大化」的效果攻击力变成4200，之后再度计算「废铁工厂」的效果，攻击力变成4400。（200+2100×2=4400）
   | 此外，「蛇神 格」的场合也会再度计算「废铁工厂」的效果。

-  | 但为什么「蛇神
     格」在一开始的列表中？因为其适用后，怪兽再被「收缩」等效果的发动把攻击力变成其他数值时，还会再度适用「蛇神
     格」的效果。
   | 例：与「青眼白龙」战斗，伤害步骤内先「蛇神
     格」效果适用，其攻击力变成原本攻击力的一半即1500，再发动「收缩」，原本攻击力变成一半即3000/2=1500，虽然看起来数值无变化，但此时已经是原本攻击力，「蛇神
     格」再度适用，攻击力变成原本攻击力的一半，1500/2=750。
   | **注**
     这就是那些一开始被在下撇到一边的卡片的处理规则：一直反复计算，保证自身在最后适用。

-  | 这些效果都一样，适用的场合先不算其他永续上升·下降的效果，这些效果算完再计算那些效果。并且，这些效果只在满足条件时适用1次，不会反复变化计算。
   | 例：「暗黑地带」适用中，等级3的「命运女郎·达琪」攻击力·守备力是1700/800。之后其等级上升1的场合，先算永续变成的效果，即1600/1600，之后适用场地效果，结果是2100/1200。

-  | 由于改变后不是原本攻守，之前已经适用的通过效果的发动来上升·下降的效果也不再计算。
   | 例：「天帝
     埃忒耳」因对方的「禁忌的圣杯」攻击力上升400，3200。之后对其发动「巨大化」，攻击力是5600或1400。

-  | 与通过效果的发动，把「原本攻击力·守备力」『变成~』『交换』的效果不同，这些效果不会彻底抹消之前的效果。
   | 例：
   | 「天帝
     埃忒耳」被对方的「暗叛逆XYZ龙」把攻击力变成一半，即1400。之后发动「巨大化」，「天帝
     埃忒耳」攻击力变成原本攻击力2800的2倍即5600后，「巨大化」离场等使效果不适用的场合，「天帝
     埃忒耳」的攻击力不是2800而是回到之前1400的状态。

**不入连锁的把「原本攻击力·守备力」『变成~』『交换』的效果**

-  「无限恐龙」被「黑色花园」的效果把攻击力变成一半，之后除外的恐龙族怪兽数量发生变化的场合不再影响其攻击力。\ `17/3/24 <https://www.db.yugioh-card.com/yugiohdb/faq_search.action?ope=5&fid=7632>`__

-  | 「扰乱之乡」等交换的是原本攻击力·守备力。
   | 例：衍生物原本攻击力·守备力是0。「No.64 古狸
     三太夫」等效果赋予衍生物攻击力·守备力后，「扰乱之乡」效果适用的场合衍生物的攻击力·守备力不会发生变化。
